
<!DOCTYPE html>

<html lang="pt">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Painel de Voos com Flip</title>
<style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #000;
      color: #00d2ff;
      margin: 0;
      padding: 0;
    }
    .tabs {
      display: flex;
      background: #111;
    }
    .tab {
      flex: 1;
      text-align: center;
      padding: 12px;
      cursor: pointer;
      color: #ccc;
    }
    .tab.active {
      color: #00d2ff;
      border-bottom: 2px solid #00d2ff;
      background: #1e1e1e;
    }
    .tab-content {
      display: none;
      padding: 20px;
    }
    .tab-content.active {
      display: block;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }
    th, td {
      padding: 8px;
      border: 1px solid #222;
      text-align: center;
      background: #111;
    }
    th {
      background: #222;
      color: #00d2ff;
      font-size: 11px;
    }
    td {
      font-size: 13px;
      color: #eee;
    }
    .logo-cell {
      background: #fff;
      padding: 4px;
    }
    .logo {
      max-height: 20px;
    }
    .flip-out {
      animation: flipOut 0.7s forwards;
    }
    @keyframes flipOut {
      0% { transform: rotateX(0deg); opacity: 1; }
      100% { transform: rotateX(90deg); opacity: 0; }
    }
  </style>
</head>
<body>
<div class="tabs">
<div class="tab active" onclick="trocarAba(0)">Chegadas</div>
<div class="tab" onclick="trocarAba(1)">Partidas</div>
</div>
<div class="tab-content active" id="chegadasTabela"></div>
<div class="tab-content" id="partidasTabela"></div>
<script>
function atualizarStatusTabela(el) {
  const row = el.closest("tr");
  const select = row.querySelector("select");
  const input = row.querySelector("input[type='time']");
  const tipo = select.dataset.tipo;
  const index = parseInt(select.dataset.index);

  let status = select.value;
  if (status === "Confirmed" && input.value) {
    status += " " + input.value;
    input.style.display = "inline-block";
  } else {
    input.style.display = "none";
  }

  if (tipo === "chegada") registrosChegadas[index].status = status;
  else registrosPartidas[index].status = status;

  salvarDados();
  atualizarTabelas();

  if (status.startsWith("Finished")) {
    // Corrigir a animação para que ela aconteça corretamente
    setTimeout(() => {
      const linha = el.closest("tr");
      linha.style.transition = "transform 10s ease-in-out, opacity 10s";
      requestAnimationFrame(() => {
        linha.style.transform = "rotateX(90deg)";
        linha.style.opacity = "0";
      });

      const timeoutId = setTimeout(() => {
        if (tipo === "chegada") registrosChegadas.splice(index, 1);
        else registrosPartidas.splice(index, 1);
        salvarDados();
        atualizarTabelas();
      }, 10000);  // Remover após 10 segundos de animação
      el.dataset.timeoutId = timeoutId;
    }, 120000);  // Esperar 2 minutos antes de iniciar a animação
  }
}
</script>
</body>
</html>
